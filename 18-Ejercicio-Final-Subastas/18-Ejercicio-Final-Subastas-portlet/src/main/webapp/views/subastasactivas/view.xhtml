<?xml version="1.0"?>

<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<h:head />
	<h:body>
		<h:form>

			<p:selectOneListbox id="estados" value="#{subastasActivas.estado}"
				var="e" filter="true" filterMatchMode="contains">
				<f:selectItems value="#{subastasActivas.estados}" var="estado"
					itemLabel="#{estado}" itemValue="#{estado}" />
				<p:column>
					<h:outputText value="#{e}" />
				</p:column>
			</p:selectOneListbox>
			<p:inputText value="#{subastasActivas.producto}"/>
			<h:commandButton action="#{subastasActivas.buscarPorArticuloEstado}" value="Buscar" />
			
			<p:separator />

			<p:dataTable var="subasta" value="#{subastasActivas.subastas}"
				rows="10" paginator="true"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="5,10,15">
				<p:column headerText="Producto">
					<h:outputText value="#{subasta.producto}" />
				</p:column>

				<p:column headerText="Estado">
					<h:outputText value="#{subasta.estado}" />
				</p:column>

				<p:column headerText="Puja">
					<h:outputText value="#{subasta.pujaMaxima}" />
				</p:column>

				<p:column headerText="Fecha Fin">
					<h:outputText value="#{subasta.fechaFin}" />
				</p:column>
				<p:column>
					<h:commandButton action="#{subastasActivas.pujar}" value="Pujar" />
				</p:column>
			</p:dataTable>
		</h:form>
	</h:body>
</f:view>